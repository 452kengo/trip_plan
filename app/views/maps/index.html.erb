<div class="map-container">
  <div id="map" class="map-canvas"></div>
  <div id="spot-search">
    <input id="address" class="controls" type="text" value="" placeholder="行きたい場所を検索"/>
    <button type="button" id="btn-spot" value="" onclick="codeAddress()">検索</button>
  </div>
  <div id="map-route">
    <ul id="route-list" class="list-group"></ul>
    <div id="map-search">
      <%= button_tag "ルート検索", id: "btn-search", class: "btn btn-primary", onclick: "search()" %>
    </div>
  </div>
</div>

<script type="text/javascript">
    handler = Gmaps.build('Google');
    handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
      markers = handler.addMarkers(<%= raw @hash.to_json %>);
      handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
      handler.getMap().setCenter(new google.maps.LatLng(35.679899, 139.762507));
      handler.getMap().setZoom(12);
      handler.getMap().setOptions({ draggableCursor: "default" });
      new google.maps.DirectionsRenderer().setMap(handler.getMap());
    });
</script>